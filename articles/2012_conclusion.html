<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="utf-8">
    <title>兰湾</title>
    <meta name="description" content="">
    <meta name="author" content="Stavros">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>>
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://st.avros.net/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://st.avros.net/theme/bootstrap.min.css" rel="stylesheet">
    <link href="http://st.avros.net/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="http://st.avros.net/theme/local.css" rel="stylesheet">
    <link href="http://st.avros.net/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->
        <link href="http://st.avros.net//feeds/all.atom.xml" rel="alternate" title="兰湾" type="application/atom+xml">
        <link href="http://st.avros.net//feeds/all.rss.xml" rel="alternate" title="兰湾" type="application/rss+xml">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="http://st.avros.net">兰湾</a>

        <div class="nav-collapse">
        <ul class="nav">
            
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
    <div class='article'>
        <div class="content-title">
            <h1>2012制作总结</h1>
2012-12-10

by <a class="url fn" href="http://st.avros.net/author/stavros.html">Stavros</a>
 


        </div>
	
        <div><p>各种实验性质的就不提了, 挑几个好玩的吧~</p>
<ol>
<li>
<p>桌面温湿度计</p>
<p>ATmega48+DS18B20+DHT11的经典配置, 简单试验了一下能工作. 不过DHT11精度太差了, 跟另外一个专门的湿度计读数相差1/3, 完全没法用. </p>
</li>
<li>
<p>三用手电</p>
<p>ATtiny26, 用INT0切换控制一个白光LED、一个紫外LED和一个红色激光LED, 实现手电/验钞笔/激光笔三合一, 如图.</p>
<p><a href="/images/cash_detector_1.jpg" title="验钞笔"><img src="/images/cash_detector_1.jpg"width="500px"/></a></p>
<p>图1 内部构造</p>
<p><a href="/images/cash_detector_2.jpg" title="验钞笔"><img src="/images/cash_detector_2.jpg"width="500px"/></a></p>
<p>图2 验钞效果</p>
<p><a href="/images/cash_detector_3.jpg" title="验钞笔"><img src="/images/cash_detector_3.jpg"width="500px"/></a></p>
<p>图3 激光笔效果</p>
</li>
<li>
<p>直流电子管电源</p>
<p>用一节锂电池当电源, LM2577接成flyback, 输出再通过IRFR420接成线性稳压, 输出60V. 另一路通过1117输出1.4V. 两路相互隔离. </p>
</li>
<li>
<p>盖革计数器</p>
<p>用一只锂电供电, 两只74HC00中的一只接成多谐振荡器, 缓冲后推动两只Si2302, 通过变压器升压到400V给盖革计数管供电; 另一只74HC00接成单稳态电路, 盖革计数管输出的脉冲整形、延时后推动LED和蜂鸣器. </p>
</li>
<li>
<p>毫欧表/高斯计/温度计</p>
<p>本质都一样, 都是四线法测电阻, 电流引线上串个精密电阻, 取它两端压降作为基准电压, 也就是所谓的比例式配置. 当毫欧表和高斯计用时, 测试电流用100mA, 基准电阻取24欧; 当温度计用的话, 测试电流取1mA, 基准电阻用2700欧. 数模转换用AD7705, 国产的TM7705也挺好用, 测出来结果和AD7705基本一致. </p>
<p><a href="/images/milliohmmeter.jpg" title="毫欧计"><img src="/images/milliohmmeter.jpg" width="500px"/></a></p>
<p>图4 测量一段铜线的电阻</p>
</li>
<li>
<p>车载USB充电器</p>
<p>以前买过一个十几块钱的点烟口充电器, 用了一年左右吧, 坏了. 拆开一看发现做工相当差, 就是34063推PMOS的结构, 号称输出2.1A... 于是决定自己做一个. 用两套2596降压到5V, 各接一个双层USB座, 合起来能提供6A的电流, 这回怎么也够了. 再用热熔胶全部封上. </p>
</li>
<li>
<p>厨房定时器</p>
<p>很简单, 倒计时15秒, 时间到了就嘀嘀嘀. 按一下按钮延长一分钟, 最多十分钟. 样子有点象定时炸弹... </p>
<p><a href="/images/kitchen_timer.jpg" title="厨房定时器"><img src="/images/kitchen_timer.jpg" width="500px"/></a></p>
<p>图5 厨房定时器</p>
</li>
<li>
<p>I2CLCD</p>
<p>1602LCD按四线配置, 用一只PCF8574驱动, 这样做简单实验时只要四线就能驱动液晶屏了. 再用一只7660提供负压, 这样3.3V和5V都能工作了. 在AVR和STM8上给它写了驱动. 不过I2C还是嫌有点慢, 以后再做UART和SPI方式的吧. UART可以少一条线, 但是两边都得有晶振. </p>
</li>
<li>
<p>LED测试器</p>
<p>做了个简单的恒流源, 专门检测LED用. 用开关切换5mA和40mA两档, 普通小LED和大功率LED都能测了. </p>
</li>
<li>
<p>磷酸铁锂充电器</p>
<p>用运放和两只BJT简单实现了恒流充电+恒压补充, 用ATmega48对电压采样后驱动10段LED发光条作为电量指示. 试了几次, 还算好用. </p>
</li>
<li>
<p>移动电源</p>
<p>电池用两节2000mAh的锂聚合物并联, 充电用TP4056, 升压用LM2577. 用LED+BJT+PMOS实现了欠压保护, 不过不太准, 大概放到3V多一点关断输出. 输出电压按3.5V计算时, LM2577理论上输出电流是3.5V * 2.1A / 5V = 1.5A; 实际使用时发现同时带两个手机充电时发热挺严重, 充一个还行. 以后用LM3478或MAX1771做个功率大点的, 至少2A吧.</p>
<p><a href="/images/mobile_power.jpg" title="移动电源"><img src="/images/mobile_power.jpg" width="500px"/></a></p>
<p>图6 移动电源</p>
<p>后记: 某次出差时在首都机场被没收了, 因为没有生产厂家, 没有容量标识什么的. 只好买了个品牌的移动电源用.</p>
</li>
<li>
<p>PCL86功放</p>
<p>做了个PCL86的外围小板, 简单验证了一下能响, 以后再慢慢优化吧. </p>
</li>
<li>
<p>AVRDDS</p>
<p>参考这两个老外的设计: </p>
<p><a href="http://www.myplace.nu/avr/minidds/index.htm">http://www.myplace.nu/avr/minidds/index.htm</a></p>
<p><a href="http://codeandlife.com/2012/03/13/fast-dds-with-atmega88">http://codeandlife.com/2012/03/13/fast-dds-with-atmega88</a></p>
<p>做了一点改进, 用四位DIP开关选择16个频点, 结果莫名其妙地总是不正常, 后来发现是asmloop的参数里有浮点计算, 老外的程序里参数都是常量, 于是浮点的问题由编译器解决了; 我在参数里用了变量的结果是把浮点库编译进来了, 于是ATmega48可怜的512字节RAM不够用了. 改了改程序, 解决了. </p>
<p>然后试了一下AM调制: DDS的输出经过LC滤波、2SC945缓冲放大后接天线, 电脑的音频输出经过运放缓冲给2SC945供电. 初步试验的结果只能说能工作了, 收音机离几厘米远能收到, 再远就不行了. 以后还得改进. </p>
<p><a href="/images/dds_455khz.png" title="dds输出455kHz波形"><img src="/images/dds_455khz.png" width="500px"/></a></p>
<p>图7 dds输出455kHz波形</p>
<p><a href="/images/dds_550khz.png" title="dds输出550kHz波形"><img src="/images/dds_550khz.png" width="500px"/></a></p>
<p>图8 dds输出550kHz波形</p>
</li>
</ol></div>
	
        <hr>

    </div>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="http://st.avros.net/archives.html">Archives</a>
                <li><a href="http://st.avros.net/tags.html">Tags</a>



                <li><a href="http://st.avros.net//feeds/all.atom.xml" rel="alternate">Atom feed</a></li>
                <li><a href="http://st.avros.net//feeds/all.rss.xml" rel="alternate">RSS feed</a></li>

            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="http://st.avros.net/category/dian-yuan.html">电源</a></li>
                <li><a href="http://st.avros.net/category/gong-ju.html">工具</a></li>
                <li><a href="http://st.avros.net/category/ji-dian.html">机电</a></li>
                <li><a href="http://st.avros.net/category/qi-ta.html">其他</a></li>
                <li><a href="http://st.avros.net/category/wu-xian-dian.html">无线电</a></li>
                <li><a href="http://st.avros.net/category/yin-pin.html">音频</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://blog.tariel.org">Tariel's blog</a></li>
                <li><a href="http://kurapikov.blogspot.com">库拉皮科夫的翻墙才能看的空间</a></li>
                <li><a href="http://just4fun.cn">乐趣为王</a></li>
                <li><a href="http://scateu.me">Scateu Blog - S.B.</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="http://weibo.com/stavros">新浪微博</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="http://st.avros.net">兰湾</a> &copy; Stavros 2017</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://st.avros.net/theme/bootstrap-collapse.js"></script>
 
</body>
</html>